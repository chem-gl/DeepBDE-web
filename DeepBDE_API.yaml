openapi: 3.0.3
info:
  title: DeepBDE API
  version: 1.0.0
  description: |-
    ## Flujo de uso de la API (Español)
    - `POST /api/v1/predict/` — Obtén información enriquecida de la molécula: SMILES canónico, imagen SVG, posiciones de átomos y enlaces, ID único.
    - `POST /api/v1/predict/single/` — Predice la BDE para un enlace específico de una molécula.
    - `POST /api/v1/predict/multiple/` — Predice las BDEs para varios enlaces de una molécula.
    - `POST /api/v1/fragment/` — Genera fragmentos moleculares en formato SMILES y/o XYZ, con valores de BDE para cada fragmento.
    - `POST /api/v1/predict/check/` — Valida productos de escisión y compara con los fragmentos predichos, incluyendo el cálculo de BDE.
    - `POST /api/v1/infer/all/` — Predice las BDEs para todos los enlaces simples de una molécula.
    - `POST /api/v1/download_report/` — Descarga un informe TXT  con los resultados de predicción y fragmentación.
    - `POST /api/v1/predict/info-smile-canonical/` — Obtén el SMILES canónico y el ID único de una molécula.

    ## API usage flow (English)
    - `POST /api/v1/predict/` — Get enriched molecule info: canonical SMILES, SVG image, atom and bond positions, and unique ID.
    - `POST /api/v1/predict/single/` — Predict the BDE for a specific bond in a molecule.
    - `POST /api/v1/predict/multiple/` — Predict BDEs for multiple bonds in a molecule.
    - `POST /api/v1/fragment/` — Generate molecular fragments in SMILES and/or XYZ format, with BDE values for each fragment.
    - `POST /api/v1/predict/check/` — Validate cleavage products and compare with predicted fragments, including BDE calculation.
    - `POST /api/v1/infer/all/` — Predict BDEs for all single bonds in a molecule.
    - `POST /api/v1/download_report/` — Download a TXT report with prediction and fragmentation results.
    - `POST /api/v1/predict/info-smile-canonical/` — Get the canonical SMILES and unique ID for a molecule.

paths:
  /api/schema/:
    get:
      operationId: schema_retrieve
      description: |-
        OpenApi3 schema for this API. Format can be selected via content negotiation.

        - YAML: application/vnd.oai.openapi
        - JSON: application/vnd.oai.openapi+json
      parameters:
        - in: query
          name: format
          schema:
            type: string
            enum:
              - json
              - yaml
        - in: query
          name: lang
          schema:
            type: string
            enum:
              - en
              - es
              - es-mx
      tags:
        - schema
      security:
        - cookieAuth: []
        - basicAuth: []
        - {}
      responses:
        "200":
          content:
            application/vnd.oai.openapi:
              schema:
                type: object
                additionalProperties: {}
            application/yaml:
              schema:
                type: object
                additionalProperties: {}
            application/vnd.oai.openapi+json:
              schema:
                type: object
                additionalProperties: {}
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ""
  /api/v1/download_report/:
    post:
      operationId: v1_download_report_create
      description:
        "\n        Genera y descarga un informe txt con los resultados\
        \ de la predicción para la molécula \n        Generates and downloads a TXT\
        \ report with the prediction results for the indicated molecule \n        "
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DownloadReportRequest"
            examples:
              EntradaDeEjemplo/ExampleInput:
                value:
                  smiles: CCO
                  format: txt
                summary: Entrada de ejemplo / Example input
              EntradaAlternativa/AlternativeInput:
                value:
                  smiles: C1=CC=CC=C1
                  format: txt
                summary: Entrada alternativa / Alternative input
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/DownloadReportRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/DownloadReportRequest"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
        - {}
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_DownloadReportResponseData"
              examples:
                EjemploExitoso:
                  value:
                    status: success
                    data:
                      type: pdf
                      report_base64: JVBERi0xLjQKJcfs...
                    error: null
                  summary: Ejemplo exitoso
          description: Respuesta exitosa / Successful response
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_NoneType"
              examples:
                ErrorPorFormatoInválido:
                  value:
                    status: error
                    detail: Formato no soportado
                  summary: Error por formato inválido
          description: Error de validación / Validation error
  /api/v1/fragment/:
    post:
      operationId: v1_fragment_create
      description:
        "\n        Genera fragmentos moleculares en formato SMILES o XYZ.\n\
        \        Generates molecular fragments in SMILES or XYZ format.\n        "
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FragmentRequest"
            examples:
              EntradaDeEjemplo/ExampleInput:
                value:
                  smiles: CCO
                  molecule_id: a1b2c3d4e5f6a7b8
                  export_smiles: true
                summary: Entrada de ejemplo / Example input
              EntradaAlternativa/AlternativeInput:
                value:
                  smiles: C1=CC=CC=C1
                  molecule_id: h1g2f3e4d5c6b7a8
                  export_xyz: true
                summary: Entrada alternativa / Alternative input
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/FragmentRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/FragmentRequest"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
        - {}
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_FragmentResponseData"
              examples:
                EjemploExitoso:
                  value:
                    status: success
                    data:
                      smiles_canonical: CCO
                      molecule_id: a1b2c3d4e5f6a7b8
                      bonds:
                        - idx: 1
                          begin_atom: 0
                          end_atom: 1
                          bond_atoms: C-O
                          bond_type: single
                          is_fragmentable: true
                      smiles_list:
                        - CC
                        - O
                      xyz_block: null
                    error: null
                  summary: Ejemplo exitoso
          description: Respuesta exitosa / Successful response
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_NoneType"
              examples:
                ErrorPorFormatoInválido:
                  value:
                    status: error
                    detail: Formato no soportado
                  summary: Error por formato inválido
          description: Error de validación / Validation error
  /api/v1/infer/all/:
    post:
      operationId: v1_infer_all_create
      description:
        "\n        Predice las energías de disociación para todos los enlaces\
        \ simples de la molécula dada.\n        Predicts the dissociation energies\
        \ for all single bonds of the given molecule.\n        "
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/InferAllRequest"
            examples:
              EntradaDeEjemplo/ExampleInput:
                value:
                  smiles: CCO
                summary: Entrada de ejemplo / Example input
              EntradaAlternativa/AlternativeInput:
                value:
                  smiles: C1=CC=CC=C1
                summary: Entrada alternativa / Alternative input
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/InferAllRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/InferAllRequest"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
        - {}
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_InferAllResponseData"
              examples:
                EjemploExitoso:
                  value:
                    status: success
                    data:
                      smiles_canonical: CCO
                      molecule_id: a1b2c3d4e5f6a7b8
                      bonds:
                        - idx: 1
                          bde: 95.0
                          begin_atom_idx: 0
                          end_atom_idx: 1
                          bond_atoms: C-O
                          bond_type: single
                        - idx: 2
                          bde: 100.0
                          begin_atom_idx: 1
                          end_atom_idx: 2
                          bond_atoms: C-C
                          bond_type: single
                    error: null
                  summary: Ejemplo exitoso
          description: Respuesta exitosa / Successful response
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_NoneType"
              examples:
                ErrorPorSMILESInválido:
                  value:
                    status: error
                    detail: Formato SMILES inválido
                  summary: Error por SMILES inválido
          description: Error de validación / Validation error
  /api/v1/predict/check/:
    post:
      operationId: v1_predict_check_create
      description:
        "\n        Verifica productos generados por la escisión de un enlace\
        \ y predice la BDE.\n        Verifies products generated by the cleavage of\
        \ a bond and predicts the BDE.\n        "
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PredictCheckRequest"
            examples:
              EntradaDeEjemplo/ExampleInput:
                value:
                  smiles: CCO
                  bond_idx: 1
                  molecule_id: 150018eccd174140
                  products:
                    - "[CH2][OH]"
                    - "[CH3]"
                summary: Entrada de ejemplo / Example input
              EntradaAlternativa/AlternativeInput:
                value:
                  smiles: CCO
                  bond_idx: 1
                  molecule_id: 150018eccd174140
                  products:
                    - "[CH2][OH]"
                    - "[CH3]"
                summary: Entrada alternativa / Alternative input
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PredictCheckRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PredictCheckRequest"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
        - {}
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_PredictCheckResponseData"
              examples:
                EjemploExitoso:
                  value:
                    status: success
                    data:
                      smiles_canonical: CCO
                      bond:
                        idx: 1
                        bde: 95.0
                        begin_atom_idx: 0
                        end_atom_idx: 1
                        bond_atoms: C-O
                        bond_type: single
                      are_same_products: true
                      products:
                        - CC
                        - O
                    error: null
                  summary: Ejemplo exitoso
          description: Respuesta exitosa / Successful response
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_NoneType"
              examples:
                ErrorPorProductosInválidos:
                  value:
                    status: error
                    detail: Productos no coinciden con los esperados
                  summary: Error por productos inválidos
          description: Error de validación / Validation error
  /api/v1/predict/info/:
    post:
      operationId: v1_predict_info_create
      description:
        "\n        Devuelve información enriquecida de la molécula: SMILES\
        \ canónico, imagen SVG, metadatos de canvas, posiciones de átomos y enlaces,\
        \ id único.\n        \n        Returns enriched information about the molecule:\
        \ canonical SMILES, SVG image, canvas metadata, atom and bond positions, unique\
        \ ID.\n        "
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MoleculeInfoRequest"
            examples:
              EjemploDeEntrada/ExampleInput:
                value:
                  smiles: CCO
                summary: Ejemplo de entrada / Example input
              EjemploAlternativo/AlternativeExample:
                value:
                  smiles: C1=CC=CC=C1
                summary: Ejemplo alternativo / Alternative example
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/MoleculeInfoRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/MoleculeInfoRequest"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
        - {}
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_MoleculeInfoResponseData"
              examples:
                EjemploExitoso:
                  value:
                    status: success
                    data:
                      smiles_canonical: CCO
                      image_svg: <svg>...</svg>
                      canvas:
                        width: 300
                        height: 300
                      atoms:
                        "0":
                          x: 50.0
                          y: 100.0
                          symbol: C
                          smiles: "[CH3]"
                        "1":
                          x: 150.0
                          y: 100.0
                          symbol: C
                          smiles: "[CH2]"
                        "2":
                          x: 250.0
                          y: 100.0
                          symbol: O
                          smiles: O
                      bonds:
                        "0":
                          start: 0
                          end: 1
                          start_coords:
                            x: 50.0
                            y: 100.0
                          end_coords:
                            x: 150.0
                            y: 100.0
                          bond_atoms: C-C
                          bond_type: single
                        "1":
                          start: 1
                          end: 2
                          start_coords:
                            x: 150.0
                            y: 100.0
                          end_coords:
                            x: 250.0
                            y: 100.0
                          bond_atoms: C-O
                          bond_type: single
                      molecule_id: a1b2c3d4e5f6a7b8
                    error: null
                  summary: Ejemplo exitoso
          description: Respuesta exitosa / Successful response
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_NoneType"
              examples:
                ErrorPorSMILESInválido:
                  value:
                    status: error
                    detail: Formato SMILES inválido
                  summary: Error por SMILES inválido
          description: Error de validación / Validation error
  /api/v1/predict/info-smile-canonical/:
    post:
      operationId: v1_predict_info_smile_canonical_create
      description:
        "        \n        Devuelve el SMILES canónico de una molécula\
        \ con hidrógenos explícitos.\n        Returns the canonical SMILES of a molecule\
        \ with explicit hydrogens.\n        "
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MoleculeSmileCanonicalRequest"
            examples:
              EjemploDeEntrada/ExampleInput:
                value:
                  smiles: CCO
                summary: Ejemplo de entrada / Example input
              EjemploAlternativo/AlternativeExample:
                value:
                  smiles: C1=CC=CC=C1
                summary: Ejemplo alternativo / Alternative example
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/MoleculeSmileCanonicalRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/MoleculeSmileCanonicalRequest"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
        - {}
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_MoleculeInfoResponseData"
              examples:
                EjemploExitoso:
                  value:
                    status: success
                    data: CCO
                    error: null
                  summary: Ejemplo exitoso
          description: Respuesta exitosa / Successful response
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_NoneType"
              examples:
                ErrorPorSMILESInválido:
                  value:
                    status: error
                    detail: Formato SMILES inválido
                  summary: Error por SMILES inválido
          description: Error de validación / Validation error
  /api/v1/predict/multiple/:
    post:
      operationId: v1_predict_multiple_create
      description:
        "\n        Predice las energías de disociación para varios enlaces\
        \ de la molécula.\n        Predicts the dissociation energies for multiple\
        \ bonds of the molecule.\n        "
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PredictMultipleRequest"
            examples:
              EntradaDeEjemplo/ExampleInput:
                value:
                  smiles: CCO
                  bond_indices:
                    - 1
                    - 2
                  molecule_id: 150018eccd174140
                summary: Entrada de ejemplo / Example input
              EntradaAlternativa/AlternativeInput:
                value:
                  smiles: C1=CC=CC=C1
                  bond_indices:
                    - 0
                    - 2
                    - 3
                  molecule_id: h1g2f3e4d5c6b7a8
                summary: Entrada alternativa / Alternative input
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PredictMultipleRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PredictMultipleRequest"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
        - {}
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_PredictMultipleResponseData"
              examples:
                EjemploExitoso:
                  value:
                    status: success
                    data:
                      smiles: CCO
                      molecule_id: a1b2c3d4e5f6a7b8
                      bonds:
                        - idx: 1
                          bde: 95.0
                          begin_atom_idx: 0
                          end_atom_idx: 1
                          bond_atoms: C-O
                          bond_type: single
                        - idx: 2
                          bde: 100.0
                          begin_atom_idx: 1
                          end_atom_idx: 2
                          bond_atoms: C-C
                          bond_type: single
                    error: null
                  summary: Ejemplo exitoso
          description: Respuesta exitosa / Successful response
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_NoneType"
              examples:
                ErrorPorÍndicesDeEnlaceInválidos:
                  value:
                    status: error
                    error:
                      code: BOND_INDEX_OUT_OF_RANGE
                      message: Índices de enlace fuera de rango
                  summary: Error por índices de enlace inválidos
          description: Error de validación / Validation error
  /api/v1/predict/single/:
    post:
      operationId: v1_predict_single_create
      description:
        "\n        Predice la energía de disociación para un enlace específico\
        \ de la molécula.\n        \n        Predicts the dissociation energy for\
        \ a specific bond of the molecule.\n        "
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PredictSingleRequest"
            examples:
              EjemploDeEntrada/ExampleInput:
                value:
                  smiles: CCO
                  bond_idx: 1
                  molecule_id: 150018eccd174140
                summary: Ejemplo de entrada / Example input
              EjemploAlternativo/AlternativeExample:
                value:
                  smiles: C1=CC=CC=C1
                  bond_idx: 2
                  molecule_id: 4b7620ed22c55dfd
                summary: Ejemplo alternativo / Alternative example
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PredictSingleRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PredictSingleRequest"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
        - {}
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_PredictSingleResponseData"
              examples:
                EjemploExitoso:
                  value:
                    status: success
                    data:
                      smiles_canonical: CCO
                      bond:
                        idx: 1
                        bde: 95.0
                        begin_atom_idx: 0
                        end_atom_idx: 1
                        bond_atoms: C-O
                        bond_type: single
                    error: null
                  summary: Ejemplo exitoso
          description: Respuesta exitosa / Successful response
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/APIResponse_NoneType"
              examples:
                ErrorPorÍndiceDeEnlaceInválido:
                  value:
                    status: error
                    detail: Índice de enlace fuera de rango
                  summary: Error por índice de enlace inválido
          description: Error de validación / Validation error
components:
  schemas:
    APIResponse_DownloadReportResponseData:
      properties:
        status:
          allOf:
            - $ref: "#/components/schemas/StatusEnum"
          default: success
          title: Status
        data:
          anyOf:
            - $ref: "#/components/schemas/DownloadReportResponseData"
            - type: "null"
          default: null
        error:
          anyOf:
            - $ref: "#/components/schemas/ErrorDetail"
            - type: "null"
          default: null
      title: APIResponse_DownloadReportResponseData
      type: object
    APIResponse_FragmentResponseData:
      properties:
        status:
          allOf:
            - $ref: "#/components/schemas/StatusEnum"
          default: success
          title: Status
        data:
          anyOf:
            - $ref: "#/components/schemas/FragmentResponseData"
            - type: "null"
          default: null
        error:
          anyOf:
            - $ref: "#/components/schemas/ErrorDetail"
            - type: "null"
          default: null
      title: APIResponse_FragmentResponseData
      type: object
    APIResponse_InferAllResponseData:
      properties:
        status:
          allOf:
            - $ref: "#/components/schemas/StatusEnum"
          default: success
          title: Status
        data:
          anyOf:
            - $ref: "#/components/schemas/InferAllResponseData"
            - type: "null"
          default: null
        error:
          anyOf:
            - $ref: "#/components/schemas/ErrorDetail"
            - type: "null"
          default: null
      title: APIResponse_InferAllResponseData
      type: object
    APIResponse_MoleculeInfoResponseData:
      properties:
        status:
          allOf:
            - $ref: "#/components/schemas/StatusEnum"
          default: success
          title: Status
        data:
          anyOf:
            - $ref: "#/components/schemas/MoleculeInfoResponseData"
            - type: "null"
          default: null
        error:
          anyOf:
            - $ref: "#/components/schemas/ErrorDetail"
            - type: "null"
          default: null
      title: APIResponse_MoleculeInfoResponseData
      type: object
    APIResponse_NoneType:
      properties:
        status:
          allOf:
            - $ref: "#/components/schemas/StatusEnum"
          default: success
          title: Status
        data:
          default: null
          title: Data
          type: "null"
        error:
          anyOf:
            - $ref: "#/components/schemas/ErrorDetail"
            - type: "null"
          default: null
      title: APIResponse_NoneType
      type: object
    APIResponse_PredictCheckResponseData:
      properties:
        status:
          allOf:
            - $ref: "#/components/schemas/StatusEnum"
          default: success
          title: Status
        data:
          anyOf:
            - $ref: "#/components/schemas/PredictCheckResponseData"
            - type: "null"
          default: null
        error:
          anyOf:
            - $ref: "#/components/schemas/ErrorDetail"
            - type: "null"
          default: null
      title: APIResponse_PredictCheckResponseData
      type: object
    APIResponse_PredictMultipleResponseData:
      properties:
        status:
          allOf:
            - $ref: "#/components/schemas/StatusEnum"
          default: success
          title: Status
        data:
          anyOf:
            - $ref: "#/components/schemas/PredictMultipleResponseData"
            - type: "null"
          default: null
        error:
          anyOf:
            - $ref: "#/components/schemas/ErrorDetail"
            - type: "null"
          default: null
      title: APIResponse_PredictMultipleResponseData
      type: object
    APIResponse_PredictSingleResponseData:
      properties:
        status:
          allOf:
            - $ref: "#/components/schemas/StatusEnum"
          default: success
          title: Status
        data:
          anyOf:
            - $ref: "#/components/schemas/PredictSingleResponseData"
            - type: "null"
          default: null
        error:
          anyOf:
            - $ref: "#/components/schemas/ErrorDetail"
            - type: "null"
          default: null
      title: APIResponse_PredictSingleResponseData
      type: object
    Atom2D:
      description: |-
        Información 2D de un átomo para visualización y metadatos.
        - x: Coordenada X
        - y: Coordenada Y
        - symbol: Símbolo químico del átomo (ej. 'C', 'O')
        - smiles: SMILES del átomo (opcional, para átomos complejos)
      properties:
        x:
          title: X
          type: number
        y:
          title: Y
          type: number
        symbol:
          title: Symbol
          type: string
        smiles:
          anyOf:
            - type: string
            - type: "null"
          default: null
          title: Smiles
      required:
        - x
        - y
        - symbol
      title: Atom2D
      type: object
    Bond2D:
      description: |-
        Información 2D de un enlace para visualización y metadatos.
        - start: Índice del átomo inicial
        - end: Índice del átomo final
        - start_coords: Coordenadas del átomo inicial
        - end_coords: Coordenadas del átomo final
        - bond_atoms: Representación legible del enlace (ej. 'C-O')
      properties:
        start:
          title: Start
          type: integer
        end:
          title: End
          type: integer
        start_coords:
          additionalProperties:
            type: number
          title: Start Coords
          type: object
        end_coords:
          additionalProperties:
            type: number
          title: End Coords
          type: object
        bond_atoms:
          title: Bond Atoms
          type: string
        bond_type:
          allOf:
            - $ref: "#/components/schemas/BondTypeEnum"
          default: single
          title: Bond Type
      required:
        - start
        - end
        - start_coords
        - end_coords
        - bond_atoms
      title: Bond2D
      type: object
    BondTypeEnum:
      enum:
        - single
        - double
        - triple
        - aromatic
      type: string
    DownloadReportRequest:
      description: |-
        Entrada para /download_report/.
        - smiles: SMILES de la molécula
        - format:  'txt'
      properties:
        smiles:
          title: Smiles
          type: string
        format:
          title: Format
          type: string
      required:
        - smiles
        - format
      title: DownloadReportRequest
      type: object
    DownloadReportResponseData:
      description: |-
        Salida de /download_report/.
        - report_base64: Reporte en base64
      properties:
        type:
          allOf:
            - $ref: "#/components/schemas/TypeEnum"
          default: pdf
          title: Type
        report_base64:
          title: Report Base64
          type: string
      required:
        - report_base64
      title: DownloadReportResponseData
      type: object
    ErrorCode:
      description: Enumeración de códigos de error estándar de la API.
      enum:
        - SMILES_INVALID
        - BOND_INDEX_OUT_OF_RANGE
        - UNSUPPORTED_FORMAT
        - MISSING_EXPORT_OPTION
      title: ErrorCode
      type: string
    ErrorDetail:
      description: |-
        Detalle de error estándar para respuestas de la API.
        - code: Código de error único (ErrorCode).
        - message: Descripción amigable del error.
      properties:
        code:
          $ref: "#/components/schemas/ErrorCode"
        message:
          title: Message
          type: string
      required:
        - code
        - message
      title: ErrorDetail
      type: object
    EvaluatedFragmentBond:
      description: |-
        Representa un enlace evaluado para fragmentación.
        - idx: Índice del enlace en la molécula.
        - begin_atom: Índice del átomo inicial del enlace.
        - end_atom: Índice del átomo final del enlace.
        - bond_atoms: Representación legible del enlace (ejemplo: 'C-H').
        - is_fragmentable: Indica si el enlace puede fragmentarse (enlace simple, etc.).
      properties:
        idx:
          title: Idx
          type: integer
        begin_atom:
          title: Begin Atom
          type: integer
        end_atom:
          title: End Atom
          type: integer
        bond_atoms:
          title: Bond Atoms
          type: string
        bond_type:
          allOf:
            - $ref: "#/components/schemas/BondTypeEnum"
          default: single
          title: Bond Type
        is_fragmentable:
          title: Is Fragmentable
          type: boolean
      required:
        - idx
        - begin_atom
        - end_atom
        - bond_atoms
        - is_fragmentable
      title: EvaluatedFragmentBond
      type: object
    FragmentRequest:
      description: |-
        Entrada para /fragment/.
        - smiles: SMILES con hidrógenos explícitos
        - molecule_id: ID de la molécula
        - bond_idx: Índice del enlace (opcional)
        - export_smiles: Si True, devuelve lista de SMILES
        - export_xyz: Si True, devuelve bloque XYZ
      properties:
        smiles:
          title: Smiles
          type: string
        molecule_id:
          title: Molecule Id
          type: string
        bond_idx:
          anyOf:
            - type: integer
            - type: "null"
          default: null
          title: Bond Idx
        export_smiles:
          default: false
          title: Export Smiles
          type: boolean
        export_xyz:
          default: false
          title: Export Xyz
          type: boolean
      required:
        - smiles
        - molecule_id
      title: FragmentRequest
      type: object
    FragmentResponseData:
      description: |-
        Salida de /fragment/.
        - smiles_canonical: SMILES canónico
        - molecule_id: ID de la molécula
        - bonds: Lista de enlaces evaluados
        - smiles_list: Lista de SMILES (opcional)
        - xyz_block: Cadena XYZ (opcional)
      properties:
        smiles_canonical:
          title: Smiles Canonical
          type: string
        molecule_id:
          title: Molecule Id
          type: string
        bonds:
          items:
            $ref: "#/components/schemas/EvaluatedFragmentBond"
          title: Bonds
          type: array
        smiles_list:
          anyOf:
            - items:
                type: string
              type: array
            - type: "null"
          default: null
          title: Smiles List
        xyz_block:
          anyOf:
            - type: string
            - type: "null"
          default: null
          title: Xyz Block
      required:
        - smiles_canonical
        - molecule_id
        - bonds
      title: FragmentResponseData
      type: object
    InferAllRequest:
      description: |-
        Entrada para /infer/all/.
        - smiles: SMILES de la molécula
      properties:
        smiles:
          title: Smiles
          type: string
      required:
        - smiles
      title: InferAllRequest
      type: object
    InferAllResponseData:
      description: |-
        Salida de /infer/all/.
        - smiles_canonical: SMILES canónico
        - molecule_id: ID de la molécula
        - bonds: Lista de detalles de enlaces
      properties:
        smiles_canonical:
          title: Smiles Canonical
          type: string
        molecule_id:
          title: Molecule Id
          type: string
        bonds:
          items:
            $ref: "#/components/schemas/PredictedBond"
          title: Bonds
          type: array
      required:
        - smiles_canonical
        - molecule_id
        - bonds
      title: InferAllResponseData
      type: object
    MoleculeInfoRequest:
      description: |-
        Entrada para /predict/.
        - smiles: SMILES de la molécula
      properties:
        smiles:
          title: Smiles
          type: string
      required:
        - smiles
      title: MoleculeInfoRequest
      type: object
    MoleculeInfoResponseData:
      description: |-
        Salida de /predict/.
        - smiles_canonical: SMILES canónico con hidrógenos explícitos
        - image_svg: Imagen SVG enriquecida
        - canvas: Metadatos del lienzo
        - atoms: Diccionario de información 2D de átomos
        - bonds: Diccionario de información 2D de enlaces
        - molecule_id: ID único (hash SHA256)
      properties:
        smiles_canonical:
          title: Smiles Canonical
          type: string
        image_svg:
          title: Image Svg
          type: string
        canvas:
          additionalProperties:
            type: integer
          title: Canvas
          type: object
        atoms:
          additionalProperties:
            $ref: "#/components/schemas/Atom2D"
          title: Atoms
          type: object
        bonds:
          additionalProperties:
            $ref: "#/components/schemas/Bond2D"
          title: Bonds
          type: object
        molecule_id:
          title: Molecule Id
          type: string
      required:
        - smiles_canonical
        - image_svg
        - canvas
        - atoms
        - bonds
        - molecule_id
      title: MoleculeInfoResponseData
      type: object
    MoleculeSmileCanonicalRequest:
      description: "Salida de /predict/info-smile-canonical/.\n- smiles: smile "
      properties:
        smiles:
          title: Smiles
          type: string
      required:
        - smiles
      title: MoleculeSmileCanonicalRequest
      type: object
    PredictCheckRequest:
      description: |-
        Entrada para /predict/check/.
        - smiles: SMILES original
        - bond_idx: Índice del enlace
        - products: Lista de SMILES esperados
      properties:
        smiles:
          title: Smiles
          type: string
        molecule_id:
          title: Molecule Id
          type: string
        bond_idx:
          title: Bond Idx
          type: integer
        products:
          items:
            type: string
          title: Products
          type: array
      required:
        - smiles
        - molecule_id
        - bond_idx
        - products
      title: PredictCheckRequest
      type: object
    PredictCheckResponseData:
      description: |-
        Salida de /predict/check/.
        - smiles_canonical: SMILES canónico
        - bond: Detalle del enlace analizado
        - products: Lista de SMILES resultantes
      properties:
        smiles_canonical:
          title: Smiles Canonical
          type: string
        bond:
          $ref: "#/components/schemas/PredictedBond"
        are_same_products:
          default: false
          title: Are Same Products
          type: boolean
        products:
          items:
            type: string
          title: Products
          type: array
      required:
        - smiles_canonical
        - bond
        - products
      title: PredictCheckResponseData
      type: object
    PredictMultipleRequest:
      description: |-
        Entrada para /predict/multiple/.
        - molecule_id: ID de la molécula
        - bond_indices: Lista de índices de enlaces
        - smiles: (opcional)
      properties:
        smiles:
          title: Smiles
          type: string
        bond_indices:
          items:
            type: integer
          title: Bond Indices
          type: array
        molecule_id:
          title: Molecule Id
          type: string
      required:
        - smiles
        - bond_indices
        - molecule_id
      title: PredictMultipleRequest
      type: object
    PredictMultipleResponseData:
      description: |-
        Salida de /predict/multiple/.
        - smiles: SMILES canónico
        - molecule_id: ID de la molécula
        - bonds: Lista de detalles de enlaces
      properties:
        smiles:
          title: Smiles
          type: string
        molecule_id:
          title: Molecule Id
          type: string
        bonds:
          items:
            $ref: "#/components/schemas/PredictedBond"
          title: Bonds
          type: array
      required:
        - smiles
        - molecule_id
        - bonds
      title: PredictMultipleResponseData
      type: object
    PredictSingleRequest:
      description: |-
        Entrada para /predict/single/.
        - smiles: SMILES de la molécula
        - molecule_id: ID único de la molécula
        - bond_idx: Índice del enlace (>= 0)
      properties:
        smiles:
          title: Smiles
          type: string
        molecule_id:
          title: Molecule Id
          type: string
        bond_idx:
          title: Bond Idx
          type: integer
      required:
        - smiles
        - molecule_id
        - bond_idx
      title: PredictSingleRequest
      type: object
    PredictSingleResponseData:
      description: |-
        Salida de /predict/single/.
        - smiles_canonical: SMILES canónico
        - bond: Detalle del enlace predicho
      properties:
        smiles_canonical:
          title: Smiles Canonical
          type: string
        bond:
          $ref: "#/components/schemas/PredictedBond"
      required:
        - smiles_canonical
        - bond
      title: PredictSingleResponseData
      type: object
    PredictedBond:
      description: |-
        Detalle de un enlace químico y su BDE predicha.
        - idx: Índice del enlace en la molécula.
        - bde: Energía de disociación predicha para el enlace.
        - begin_atom_idx: Índice del átomo inicial del enlace.
        - end_atom_idx: Índice del átomo final del enlace.
        - bond_atoms: Representación legible del enlace (ejemplo: 'C-O').
      properties:
        idx:
          title: Idx
          type: integer
        bde:
          anyOf:
            - type: number
            - type: "null"
          title: Bde
        begin_atom_idx:
          title: Begin Atom Idx
          type: integer
        end_atom_idx:
          title: End Atom Idx
          type: integer
        bond_atoms:
          title: Bond Atoms
          type: string
        bond_type:
          allOf:
            - $ref: "#/components/schemas/BondTypeEnum"
          default: single
          title: Bond Type
      required:
        - idx
        - bde
        - begin_atom_idx
        - end_atom_idx
        - bond_atoms
      title: PredictedBond
      type: object
    StatusEnum:
      enum:
        - success
        - error
      type: string
    TypeEnum:
      enum:
        - pdf
        - txt
      type: string
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionid
